/**
 * mtEvents v1.2.6
 * Copyright 2018-2019 Ranjay
 * Released under the MIT License
 * https://github.com/jerryOnlyZRJ/mobile-events
 */
!function(t,e){"undefined"==typeof module?t.mtEvents=e():module.exports=e()}(this,function(){"use strict";function c(r,o,t){return new Proxy(t,{apply:function(t,e,n){var i=function(t,e,n){if(!e)return null;for(var i=new Set(document.querySelectorAll(e));n!==t;){if(i.has(n))return n;n=n.parentNode}return null}(r,o,n[0].target);if(o&&i||!o)return Reflect.apply.apply(Reflect,arguments)}})}function u(t,e,n){var i=new WeakMap;i.set(t,e),t.addEventListener(n,i.get(t))}var t=function(t){this.eventHandler=new Map,this.options=t};t.prototype.bind=function(e,t,n){var i=this.options.eventHandlers(t);Object.keys(i).map(function(t){i[t]=c(e,n,i[t]),u(e,i[t],t)}),this.eventHandler.set(t,i)},t.prototype.remove=function(e,t){return Object.entries(this.eventHandler.get(t)).map(function(t){e.removeEventListener(t[0],t[1])}),e};var e=function(){this.timer=null};e.prototype.timeoutCreator=function(t,e){var n=this;this.timer=setTimeout(function(){return clearTimeout(n.timer),n.timer=null,e&&e()},t)},e.prototype.clearTimer=function(){clearTimeout(this.timer),this.timer=null};var i=function(){this.lastClientObjs=[]};function d(t,e,n,i){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-i,2))}i.prototype.initLastClientObjs=function(t){this.lastClientObjs=Object.assign([],t)},i.prototype.getDisplacement=function(t){var o=this;return(t=Array.from(t)).map(function(t,e){var n=o.lastClientObjs[e],i=n.x,r=n.y;return{x:t.clientX-i,y:t.clientY-r}})};var a=new function(){this.tap=new t({eventHandlers:function(r){var o=new e,c=new i;return{touchstart:function(t){t.preventDefault(),c.initLastClientObjs([{x:t.touches[0].clientX,y:t.touches[0].clientY}]),o.timeoutCreator(200,function(){o.clearTimer(),c.initLastClientObjs(null)})},touchend:function(t){if(o.timer){var e=c.getDisplacement(t.changedTouches)[0],n=Math.abs(e.x),i=Math.abs(e.y);n<=50&&i<=50&&(t.preventDefault(),r(t))}o.clearTimer()}}}}),this.longtap=new t({eventHandlers:function(r){var o=new e,c=new i;return{touchstart:function(t){t.preventDefault(),c.initLastClientObjs([{x:t.touches[0].clientX,y:t.touches[0].clientY}]),o.timeoutCreator(1e3)},touchend:function(t){if(!o.timer){var e=c.getDisplacement(t.changedTouches)[0],n=Math.abs(e.x),i=Math.abs(e.y);n<=100&&i<=100&&(t.preventDefault(),r(t))}o.clearTimer()}}}}),this.dbtap=new t({eventHandlers:function(r){var o=new e,c=new i;return{touchend:function(t){if(o.timer){o.clearTimer();var e=c.getDisplacement(t.changedTouches)[0],n=Math.abs(e.x),i=Math.abs(e.y);n<=100&&i<=100&&(t.preventDefault(),r(t))}else c.initLastClientObjs([{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}]),o.timeoutCreator(500,function(){c.initLastClientObjs(null)})}}}}),this.swipe=new t({eventHandlers:function(e){var n=new i;return{touchstart:function(t){n.initLastClientObjs([{x:t.touches[0].clientX,y:t.touches[0].clientY}])},touchend:function(t){t.displacement=n.getDisplacement(t.changedTouches)[0],e(t)}}}}),this.drag=new t({eventHandlers:function(e){var n=new i;return{touchstart:function(t){n.initLastClientObjs([{x:t.touches[0].clientX,y:t.touches[0].clientY}])},touchmove:function(t){t.preventDefault(),t.displacement=n.getDisplacement(t.touches)[0],n.initLastClientObjs([{x:t.touches[0].clientX,y:t.touches[0].clientY}]),e(t)}}}}),this.scale=new t({eventHandlers:function(i){var r=0,t=new e;return{touchmove:function(n){n.preventDefault(),2===n.touches.length&&(r?t.timer||t.timeoutCreator(50,function(){if(r){var t=d(n.touches[0].clientX,n.touches[0].clientY,n.touches[1].clientX,n.touches[1].clientY),e=Math.floor(100*t/r)/100;n.scale=e,i(n)}}):r=d(n.touches[0].clientX,n.touches[0].clientY,n.touches[1].clientX,n.touches[1].clientY))},touchend:function(t){r=0}}}}),this.rotate=new t({eventHandlers:function(p){var v=null,t=new e;return{touchmove:function(f){2===f.touches.length&&(v?t.timer||t.timeoutCreator(50,function(){if(v){var t=v[0].clientX,e=v[1].clientX,n=f.touches[0].clientX,i=f.touches[1].clientX,r=v[0].clientY,o=v[1].clientY,c=f.touches[0].clientY,u=f.touches[1].clientY,a=d(t,r,e,o),s=d(n,c,i,u),l=(e-t)*(u-c)-(i-n)*(o-r),h={rotateAngle:180*Math.acos(((e-t)*(i-n)+(o-r)*(u-c))/(a*s))/Math.PI};l<0?(h.direction="anticlockwise",h.dirt=0):0<l&&(h.direction="clockwise",h.dirt=1),f.rotate=h,p(f)}}):v=Object.assign([],f.touches))},touchend:function(t){v=null}}}})},n=function(){this.userCallback2Handler=new Map};n.prototype.bind=function(n,i,t,e){var r=this;if("object"==typeof i)return this._handleEventObj(i,function(t,e){return r.bind(n,void 0,t,e)}),n;if(!(t instanceof Array||"object"!=typeof t))return this._handleEventObj(t,function(t,e){return r.bind(n,i,t,e)}),n;if("function"==typeof t||t instanceof Array)return this.bind(n,void 0,i,t);var o=c(n=this._checkBindTargetInput(n),i,e);return this.userCallback2Handler.set(e,o),this._isEventDIY(t)?a[t].bind(n,e,i):u(n,o,t),n},n.prototype.remove=function(n,t,e){var i=this;return n=this._checkBindTargetInput(n),"object"==typeof t&&this._handleEventObj(t,function(t,e){i.remove(n,t,e)}),this._isEventDIY(t)?a[t].remove(n,e):n.removeEventListener(t,this.userCallback2Handler.get(e)),n},n.prototype._handleEventObj=function(t,e){return Object.entries(t).map(function(t){e(t[0],t[1])})},n.prototype._checkBindTargetInput=function(t){if("string"==typeof t&&!(t=document.querySelector(t)))throw new Error("None of DOM had been choisen, Please input a correct selector or a HTMLElement");return t},n.prototype._isEventDIY=function(t){return new Set(Object.keys(a)).has(t)};var r=new n,o=Object.create(n.prototype),s=r.bind.bind(r);return Object.setPrototypeOf(s,o),Object.keys(r).map(function(t){s[t]=r[t]}),s});